<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>index2</title>
</head>

<body>
  <a href="#1">go to 1</a>
  <a href="#2">go to 2</a>
  <a href="#3">go to 3</a>
  <a href="#4">go to 4</a>
  <div id="app"></div>
  <div id="div1" style="display: none;">1</div>
  <div id="div2" style="display: none;">2</div>
  <div id="div3" style="display: none;">3</div>
  <div id="div4" style="display: none;">4</div>
  <div id="div404" style="display: none;">你要找的内容被狗吃了</div>
  <script>

    function route() {
      // 获取hash
      let number = window.location.hash.substr(1)

      // 找到坑位
      let app = document.querySelector('#app')

      // 默认路由
      number = number || 1

      // 重置界面
      if (app.children.length > 0) {
        // 旧界面隐藏
        app.children[0].style.display = "none"
        // 旧界面回到原处
        document.body.appendChild(app.children[0])
      }

      // 获取界面
      let div = document.querySelector(`#div${number}`)
      if (!div) {
        div = document.querySelector(`#div404`)
      }
      div.style.display = "block"

      // 展示界面 or 新界面入坑
      app.appendChild(div)
    }

    route()

    window.addEventListener('hashchange', () => {
      console.log('hash 变了')
      route()
    })
  </script>
</body>

</html>